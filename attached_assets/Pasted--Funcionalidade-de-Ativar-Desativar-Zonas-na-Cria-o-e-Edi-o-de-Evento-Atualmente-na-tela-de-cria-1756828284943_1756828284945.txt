"Funcionalidade de Ativar/Desativar Zonas na CriaÃ§Ã£o e EdiÃ§Ã£o de Evento

Atualmente, na tela de criaÃ§Ã£o e ediÃ§Ã£o de evento, usamos a tabela event_cep_zone_prices apenas para personalizar os preÃ§os de zonas ativas (se nÃ£o houver preÃ§o personalizado, usamos o padrÃ£o da tabela cep_zones).

ğŸ“Œ Nova funcionalidade desejada:

Adicionar coluna de ativaÃ§Ã£o/desativaÃ§Ã£o de zona no evento

Na tabela event_cep_zone_prices, incluir uma coluna active (boolean).

Essa coluna indicarÃ¡ se a zona estÃ¡ ativa ou desativada para aquele evento especÃ­fico.

Tela de criaÃ§Ã£o/ediÃ§Ã£o do evento

Listar todas as zonas de CEP ativas globalmente (cep_zones).

O organizador poderÃ¡:

Ativar todas (padrÃ£o).

Desativar algumas zonas especÃ­ficas sÃ³ para aquele evento.

Caso uma zona seja desativada no evento:

Deve ser criado um registro em event_cep_zone_prices para essa zona, com:

O preÃ§o preenchido (pode ser o preÃ§o padrÃ£o da cep_zones, apenas para nÃ£o deixar vazio).

A flag active = false.

Tela do cliente /events/{id}/address

Ao verificar o CEP do cliente, alÃ©m da lÃ³gica normal de zonas (prioridade, fallback, etc.), verificar tambÃ©m se a zona estÃ¡ ativa no evento (event_cep_zone_prices.active).

Se a zona estiver desativada para aquele evento:

Retornar mensagem clara para o cliente: â€œEste evento nÃ£o estÃ¡ disponÃ­vel para sua regiÃ£o.â€

NÃ£o seguir para o fallback.

ğŸ“Œ Fluxo resumido de decisÃ£o do CEP no evento:

Procurar a zona pela ordem de prioridade.

Se a zona estiver ativa globalmente e ativa no evento â†’ aplicar preÃ§o personalizado (se existir) ou preÃ§o padrÃ£o.

Se a zona estiver ativa globalmente, mas desativada no evento â†’ mostrar mensagem de nÃ£o atendimento.

Se a zona estiver inativa globalmente â†’ tambÃ©m mostrar mensagem de nÃ£o atendimento (sem fallback).

Se nÃ£o encontrar nenhuma zona â†’ aplicar fallback (se existir e ativo para o evento).

ğŸ“Œ Objetivo da melhoria:

Dar flexibilidade para eventos restringirem determinadas regiÃµes.

Centralizar a configuraÃ§Ã£o na tela de criaÃ§Ã£o/ediÃ§Ã£o do evento.

Garantir que clientes recebam mensagens claras quando tentarem usar CEPs de zonas desativadas."