"Quero que voc√™ ajuste a l√≥gica de filtragem do relat√≥rio de circuit considerando as zonas de CEP com prioridades. Hoje o filtro n√£o respeita corretamente a hierarquia de prioridades.

üìå Regras que devem ser implementadas:

Cada zona de CEP tem uma prioridade (1 = mais alta, at√© N = mais baixa).

Um mesmo CEP pode se encaixar em v√°rias zonas (sobreposi√ß√£o).

Apenas zonas ativas (active = true) devem ser consideradas na checagem.

Zonas com active = false devem ser completamente ignoradas.

A checagem deve sempre come√ßar pela prioridade 1 e seguir at√© a √∫ltima.

Assim, o CEP deve ser atribu√≠do √† primeira zona ativa de prioridade em que ele se encaixar.

Se o usu√°rio filtrar por uma prioridade espec√≠fica, o relat√≥rio deve mostrar apenas os CEPs realmente atribu√≠dos a essa prioridade.

Exemplo: se um CEP pertence √† prioridade 2 e 4, e o usu√°rio filtra pela prioridade 4 ‚Üí esse CEP n√£o deve aparecer, pois j√° foi capturado pela prioridade 2.

A √∫ltima prioridade (ex: 4) √© um intervalo amplo de fallback, usada apenas quando o CEP n√£o se encaixa em nenhuma das zonas anteriores.

üìå Objetivo do ajuste:

Garantir que cada CEP apare√ßa somente na prioridade correta e ativa (a primeira em que ele se encaixar).

Corrigir o filtro do relat√≥rio para que n√£o retorne CEPs de prioridades diferentes da escolhida.

Ignorar totalmente zonas inativas (active = false).

Al√©m do relat√≥rio de circuit, existem outros relat√≥rios que:

Possuem filtro por zona;

Exibem a zona do CEP no pr√≥prio resultado.

Preciso que voc√™:

Cheque se a l√≥gica de zonas est√° implementada corretamente nesses relat√≥rios tamb√©m.

A l√≥gica deve seguir as mesmas regras j√° definidas:

Considerar apenas zonas ativas (active = true);

Um CEP deve ser atribu√≠do somente √† primeira zona ativa de prioridade em que se encaixar (1 ‚Üí N);

Zonas inativas (active = false) devem ser ignoradas;

O filtro por prioridade deve exibir apenas os CEPs atribu√≠dos a essa prioridade, sem incluir CEPs de prioridades diferentes.

Caso algum relat√≥rio n√£o esteja respeitando essa regra, ajustar para que todos os relat√≥rios fiquem consistentes."