Corre√ß√£o e melhoria no fluxo de edi√ß√£o de endere√ßos do cliente
Queremos realizar ajustes no fluxo de edi√ß√£o de endere√ßos do cliente, garantindo o correto carregamento dos dados e o redirecionamento adequado ao finalizar ou cancelar a edi√ß√£o.

üêû 1. Corre√ß√£o de erro 401 ao editar endere√ßo
Problema:
Ao acessar a p√°gina /profile/address/:id/edit, ocorre um erro 401 (Unauthorized).

Com isso, os dados do endere√ßo n√£o s√£o carregados para edi√ß√£o, mesmo com o cliente autenticado.

Solu√ß√£o:
Consultar e aplicar as instru√ß√µes do arquivo AUTHENTICATION_FIX_GUIDE.md, que explica como corrigir esse tipo de erro.

Verificar se:

O token est√° sendo enviado corretamente nas chamadas autenticadas.

A rota est√° protegida da forma certa.

O fetch est√° utilizando o contexto de sess√£o/logado do cliente.

üîÑ 2. Corre√ß√£o no redirecionamento ap√≥s editar endere√ßo ou sair
Comportamento atual:
Ap√≥s editar um endere√ßo ou clicar em "voltar", o sistema redireciona automaticamente para /events/:id/address, mesmo que o usu√°rio tenha vindo da √°rea de perfil.

Comportamento desejado:
Se o usu√°rio acessou a edi√ß√£o de endere√ßo a partir da tela de um evento (ex: /events/8/address ‚Üí editar endere√ßo), ao concluir ou cancelar deve voltar para /events/8/address.

Se o usu√°rio acessou diretamente pela √°rea de perfil (ex: /profile/address/8/edit), ao concluir ou cancelar deve voltar para /profile.

Solu√ß√£o:
Utilizar um par√¢metro de origem ou referrer, por exemplo:

/profile/address/8/edit?from=profile

/profile/address/8/edit?from=event&eventId=8

Armazenar esse par√¢metro e utiliz√°-lo para definir o comportamento de redirecionamento ao:

Clicar em ‚ÄúVoltar‚Äù

Concluir a edi√ß√£o

‚úÖ Checklist
Corre√ß√£o do erro 401:
 Revisar autentica√ß√£o conforme AUTHENTICATION_FIX_GUIDE.md

 Verificar headers/token nas chamadas da p√°gina /profile/address/:id/edit

 Garantir que a API permite o acesso correto a endere√ßos do cliente autenticado

Redirecionamento:
 Implementar controle de origem via query param (from=profile ou from=event&eventId=X)

 Adaptar l√≥gica de ‚Äúvoltar‚Äù e p√≥s-edi√ß√£o para redirecionar corretamente

 Testar os dois fluxos:

Acesso via /profile

Acesso via /events/:id/address ‚Üí editar endere√ßo